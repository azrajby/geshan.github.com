<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
  <meta charset="utf-8">
  <title>Taming Drupal Node Teaser and Node Title - Geshan&#8217;s Blog</title>
  <meta name="author" content="Geshan Manandhar">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://geshan.com.np/blog/2008/06/taming-drupal-node-teaser-and-node">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="Geshan's Blog" type="application/atom+xml">

  <!-- http://opengraphprotocol.org/ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta property="og:type" content="website">
  <meta property="og:url" content="http://geshan.com.np/blog/2008/06/taming-drupal-node-teaser-and-node">
  <meta property="og:title" content="Taming Drupal Node Teaser and Node Title - Geshan's Blog">
  

  <link href="/assets/bootstrap/dist/css/bootstrap.united.min.css" rel="stylesheet" type="text/css">

<meta property="og:image:width" content="450"/>
<meta property="og:image:height" content="298"/>
<meta name="p:domain_verify" content="e654c68562abebfa25c291f59d7d00e8"/>


  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">

  
   <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-56310304-1', 'auto');
    ga('send', 'pageview');

  </script>


</head>

  <body   >
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Geshan&#8217;s Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a rel="index" href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="https://www.google.com/search" method="GET">
                    <input type="hidden" name="sitesearch" value="geshan.com.np" />
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-8" itemscope itemtype="http://schema.org/Blog">
    <meta itemprop="name" content="Geshan's Blog" />
    <meta itemprop="description" content="A blog about technology, open source, web development etc." />
    <meta itemprop="url" content="http://geshan.com.np" />
    <article class="hentry" role="article" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
      
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2008-06-27T15:08:00+10:00"  data-updated="true" itemprop="datePublished dateCreated"><time class='entry-date' datetime='2008-06-27T15:08:00+10:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2008</span></span> <span class='time'>3:08 pm</span></time></time>
        
      </p>
    
    
    <h1 class="entry-title" itemprop="name headline">
        Taming Drupal Node Teaser and Node Title
        
    </h1>
    
  </header>


<div class="entry-content clearfix" itemprop="articleBody description"><div class='post'>
You might be wondering what is the use of this article / tutorial when Drupal system of handling title and teasers is so good and there are modules like <a href="http://drupal.org/project/nodeteaser" target="_blank">node teaser</a> to customize the teaser as per your need. But lets picture a scenario you are developing a website with a custom front page (required by majority of websites) so you have created your page-front.tpl.php and created a panel kicking out your left and right sidebar selection and example below.<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_L4bRnZ5TPr8/SGR2al5ATDI/AAAAAAAAAX8/udKF8nIXNL4/s1600-h/01Choose_Panel.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://1.bp.blogspot.com/_L4bRnZ5TPr8/SGR2al5ATDI/AAAAAAAAAX8/udKF8nIXNL4/s400/01Choose_Panel.jpg" alt="" id="BLOGGER_PHOTO_ID_5216424467621760050" border="0" /></a><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_L4bRnZ5TPr8/SGR2s81DbhI/AAAAAAAAAYE/KJRaFm6mCkc/s1600-h/02_PS_Example.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer; width: 400px; height: 226px;" src="http://1.bp.blogspot.com/_L4bRnZ5TPr8/SGR2s81DbhI/AAAAAAAAAYE/KJRaFm6mCkc/s400/02_PS_Example.jpg" alt="" id="BLOGGER_PHOTO_ID_5216424783016848914" border="0" /></a>Now the problem is you can tell the people who create nodes to put a title of just five words or less and a teaser of 300 characters or less so what to do? If they put a node title of more than say 25 letters your design will be hampered so the solution is tame your Drupal title how is what you get below:<br /><br />In your node.tpl.php (recommended node-content_type.tpl.php for better results)<br />The original code to render node title is something like below (I’m using <a href="http://drupal.org/project/amor_azul" target="_blank">Amor_Azul </a>theme, just find the $title printed in your theme’s node.tpl.php):<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_L4bRnZ5TPr8/SGR_9d9WAZI/AAAAAAAAAY0/bREEc9zHctM/s1600-h/code1.jpg"><img style="margin: 0pt 10px 10px 0pt; float: left; cursor: pointer;" src="http://2.bp.blogspot.com/_L4bRnZ5TPr8/SGR_9d9WAZI/AAAAAAAAAY0/bREEc9zHctM/s320/code1.jpg" alt="" id="BLOGGER_PHOTO_ID_5216434962392547730" border="0" /></a><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />Change it to or add:<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_L4bRnZ5TPr8/SGSBj9V5-JI/AAAAAAAAAZk/uwJSlxTgaIU/s1600-h/code2.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://3.bp.blogspot.com/_L4bRnZ5TPr8/SGSBj9V5-JI/AAAAAAAAAZk/uwJSlxTgaIU/s400/code2.jpg" alt="" id="BLOGGER_PHOTO_ID_5216436723163723922" border="0" /></a><br />Now the trick is if the page is Front page and the displayed content is teaser then I get the string length of the title of the node and if the string length is more than 25 characters I print … after it else I print the title. Easy it seems, I think the page==0 is for the full content display.<br /><br />Ok time to tame the teaser for the front page, the original code for the $content is given below with the tweak:<br /><br />Original code for content in node.tpl.php in your theme folder (I’m using Amor_Azul theme and recommend using node-content_type.tpl.php to try this)<br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_L4bRnZ5TPr8/SGSAypQDcRI/AAAAAAAAAZE/0y_Wc6XtZeI/s1600-h/code3.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://4.bp.blogspot.com/_L4bRnZ5TPr8/SGSAypQDcRI/AAAAAAAAAZE/0y_Wc6XtZeI/s320/code3.jpg" alt="" id="BLOGGER_PHOTO_ID_5216435875956879634" border="0" /></a>Change it to:<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_L4bRnZ5TPr8/SGSBYS4aAPI/AAAAAAAAAZc/yyEchoHPf0k/s1600-h/code4.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://2.bp.blogspot.com/_L4bRnZ5TPr8/SGSBYS4aAPI/AAAAAAAAAZc/yyEchoHPf0k/s400/code4.jpg" alt="" id="BLOGGER_PHOTO_ID_5216436522787143922" border="0" /></a><br />So what did I do here?:-) Easy on it, in the content div I checked if teaser is being displayed in the front page if yes again the string length tweak as its content I used two hundred and ninety characters which suited my need. If teaser length was more than 290 I added … to the teaser else printed the teaser. In case it was not the front page and teaser the regular content was printed. Or the output for the above experiment that worked successfully is below:<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://1.bp.blogspot.com/_L4bRnZ5TPr8/SGSBLAz6IJI/AAAAAAAAAZU/wK3jL7jXimA/s1600-h/03_Done_trimming.jpg"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://1.bp.blogspot.com/_L4bRnZ5TPr8/SGSBLAz6IJI/AAAAAAAAAZU/wK3jL7jXimA/s400/03_Done_trimming.jpg" alt="" id="BLOGGER_PHOTO_ID_5216436294598140050" border="0" /></a><br />Sorry for the code in pictures, download the code text <a href="http://www.mediafire.com/?qlymommgodi" target="_blank">Here</a>.<br /><h2>Part 2 of this tutorial can be found <a href="http://geshan.blogspot.com/2008/12/taming-drupal-node-teaser-and-node.html">here</a>, part 2 is for custom node types with body and other fields.</h2><br />Some add-ons you can try, a problem may be what if the 25th character of the title is a space then it’ll display “title …” looking awkward so it can be handled. Another possible extension is adding link to the full node in the “…” in the teaser’s … (continued pointer). Well try out for yourself, if you tweak and get something interesting don’t forget to comment here.</div>
</div>


      <footer>
        <p class="meta text-muted">
          
  

<span class="glyphicon glyphicon-user"></span> <span class="byline author vcard" itemprop="author" itemscope itemtype="http://schema.org/Person">Posted by <span class="fn" itemprop="name">Geshan Manandhar</span></span>

          












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2008-06-27T15:08:00+10:00"  data-updated="true" itemprop="datePublished dateCreated"><time class='entry-date' datetime='2008-06-27T15:08:00+10:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2008</span></span> <span class='time'>3:08 pm</span></time></time>
          

<span class="glyphicon glyphicon-tags"></span>&nbsp;
<span class="categories">
  
    <a class='category' href='/blog/categories/drupal/'>drupal</a>, <a class='category' href='/blog/categories/technology/'>technology</a>, <a class='category' href='/blog/categories/tutorial/'>tutorial</a>
  
</span>


<h4>I have removed Disqus as it has no free version without ads. You can discuss about this blog on the <a href="https://www.facebook.com/geshanBlog/" target="_blank">facebook page</a>.</h4>

        </p>
        
          <div class='shareaholic-canvas' data-app='share_buttons' data-app-id='11665322'></div>

        
        
          <ul class="meta text-muted pager">
            
            <li class="previous"><a href="/blog/2008/06/its-been-time-i-snapped-some-good/" title="Previous Post: Its been time I snapped Some Good Pictures">&laquo; Its been time I snapped Some Good Pictures</a></li>
            
            
            <li class="next"><a href="/blog/2008/07/cool-mp3-ringtones-part-5/" title="Next Post: Cool MP3 Ringtones Part 5">Cool MP3 Ringtones Part 5 &raquo;</a></li>
            
          </ul>
        
      </footer>
    </article>
    
  </div>

  
  <aside class="sidebar col-md-4">
    
      <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/blog/2018/12/the-most-important-tip-for-beginner-software-engineers-is/">The Most Important Tip for Beginner Software Engineers Is&#8230;</a>
    
    <a class="list-group-item " href="/blog/2018/12/you-can-do-it-in-sql/">You Can Do It in SQL, Stop Writing Extra Code for That</a>
    
    <a class="list-group-item " href="/blog/2018/12/5-tech-medium-publications-software-engineers-should-strive-to-write-for/">5 Tech Medium Publications Software Engineers Should Strive to Write For</a>
    
    <a class="list-group-item " href="/blog/2018/12/4-ways-docker-changed-the-way-software-engineers-work-in-past-half-decade/">4 Ways Docker Changed the Way Software Engineers Work in Past Half Decade</a>
    
    <a class="list-group-item " href="/blog/2018/11/5-signs-that-reveal-your-software-development-process-is-agile-only-on-paper-and-solutions-for-them/">5 Signs That Reveal Your Software Development Process Is Agile Only on Paper and Solutions for Them</a>
    
  </div>
</section>
<section class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">Categories</h3>
    </div>
    <div class="list-group">
        
        
        <a class="list-group-item " href="/blog/categories/misc/">
            <span class="badge">198</span>
            misc
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/mobiles/">
            <span class="badge">8</span>
            mobiles
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/technology/">
            <span class="badge">140</span>
            technology
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/foss/">
            <span class="badge">15</span>
            foss
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/drupal/">
            <span class="badge">37</span>
            drupal
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/programming/">
            <span class="badge">26</span>
            programming
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/tutorial/">
            <span class="badge">20</span>
            tutorial
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/about-me/">
            <span class="badge">2</span>
            about me
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/learn-php/">
            <span class="badge">4</span>
            learn php
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/php/">
            <span class="badge">21</span>
            php
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/codeigniter/">
            <span class="badge">1</span>
            codeigniter
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/git/">
            <span class="badge">8</span>
            git
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/apps/">
            <span class="badge">4</span>
            apps
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/android/">
            <span class="badge">2</span>
            android
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/infographics/">
            <span class="badge">7</span>
            infographics
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/testing/">
            <span class="badge">5</span>
            testing
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/javascript/">
            <span class="badge">1</span>
            javascript
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/symfony/">
            <span class="badge">3</span>
            symfony
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/talks/">
            <span class="badge">12</span>
            talks
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/devops/">
            <span class="badge">18</span>
            devops
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/laravel/">
            <span class="badge">2</span>
            laravel
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/deployment/">
            <span class="badge">6</span>
            deployment
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/logging/">
            <span class="badge">2</span>
            logging
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/api/">
            <span class="badge">1</span>
            api
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/docker/">
            <span class="badge">5</span>
            docker
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/database/">
            <span class="badge">1</span>
            database
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/microservice/">
            <span class="badge">1</span>
            microservice
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/agile/">
            <span class="badge">1</span>
            agile
        </a>
        
        
        <a class="list-group-item " href="/blog/categories/sql/">
            <span class="badge">1</span>
            sql
        </a>
        
    </div>
</section>
<section id="twitter-timeline" class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">
            Latest Tweets
            
            <small class="pull-right">
              <a class="btn" href="//twitter.com/geshan" title="@geshan on Twitter" target="_blank">
                <i class="icon-external-link"></i>
              </a>
            </small>
            
        </h3>
    </div>
    <div class="list-group">
          <a class="twitter-timeline" data-dnt="true" href="//twitter.com/geshan"  data-widget-id="518273942725722112"  data-link-color="#049cdb" data-tweet-limit="" data-chrome="noheader nofooter transparent noscrollbar">Tweets by @geshan</a>
          <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>
</section>



    
  </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2018 - Geshan Manandhar<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<!-- shareaholic start -->
<script type="text/javascript">
    //<![CDATA[
    (function() {
        var shr = document.createElement('script');
        shr.setAttribute('data-cfasync', 'false');
        shr.src = '//dsms0mj1bbhn4.cloudfront.net/assets/pub/shareaholic.js';
        shr.type = 'text/javascript'; shr.async = 'true';
        shr.onload = shr.onreadystatechange = function() {
            var rs = this.readyState;
            if (rs && rs != 'complete' && rs != 'loaded') return;
            var site_id = '053dbd80f9ee1f48b1d3735743458511';
            try { Shareaholic.init(site_id); } catch (e) {}
        };
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(shr, s);
    })();
    //]]>
</script>
<!-- shareaholic end -->
</footer>
    



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>


  </body>
</html>
